
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>Function Types · Introducción a Elm</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 5.1.4">
        <meta name="author" content="Evan Czaplicki">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="types_as_bits.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introducción
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../core_language.html">
            
                <a href="../core_language.html">
            
                    
                    Lo esencial del lenguaje
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../architecture/">
            
                <a href="../architecture/">
            
                    
                    Arquitectura Elm
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../architecture/buttons.html">
            
                <a href="../architecture/buttons.html">
            
                    
                    Botones
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../architecture/text_fields.html">
            
                <a href="../architecture/text_fields.html">
            
                    
                    Campos de texto
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../architecture/forms.html">
            
                <a href="../architecture/forms.html">
            
                    
                    Formularios
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../types/">
            
                <a href="../types/">
            
                    
                    Tipos
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../types/reading_types.html">
            
                <a href="../types/reading_types.html">
            
                    
                    Leyendo tipos
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../types/type_aliases.html">
            
                <a href="../types/type_aliases.html">
            
                    
                    Alias de tipo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../types/custom_types.html">
            
                <a href="../types/custom_types.html">
            
                    
                    Tipos personalizados
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../types/pattern_matching.html">
            
                <a href="../types/pattern_matching.html">
            
                    
                    Búsqueda de patrones
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../error_handling/">
            
                <a href="../error_handling/">
            
                    
                    Manejo de errores
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../error_handling/maybe.html">
            
                <a href="../error_handling/maybe.html">
            
                    
                    Maybe
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../error_handling/result.html">
            
                <a href="../error_handling/result.html">
            
                    
                    Result
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../effects/">
            
                <a href="../effects/">
            
                    
                    Comandos y suscripciones
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../effects/http.html">
            
                <a href="../effects/http.html">
            
                    
                    HTTP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../effects/json.html">
            
                <a href="../effects/json.html">
            
                    
                    JSON
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../effects/random.html">
            
                <a href="../effects/random.html">
            
                    
                    Valores aleatorios
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../effects/time.html">
            
                <a href="../effects/time.html">
            
                    
                    Tiempo
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../install/">
            
                <a href="../install/">
            
                    
                    Instalación
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../install/editor.html">
            
                <a href="../install/editor.html">
            
                    
                    Editor de código
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../install/elm.html">
            
                <a href="../install/elm.html">
            
                    
                    Elm
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../interop/">
            
                <a href="../interop/">
            
                    
                    JavaScript Interop
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../interop/flags.html">
            
                <a href="../interop/flags.html">
            
                    
                    Flags
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../interop/ports.html">
            
                <a href="../interop/ports.html">
            
                    
                    Ports
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../interop/custom_elements.html">
            
                <a href="../interop/custom_elements.html">
            
                    
                    Custom Elements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../interop/limits.html">
            
                <a href="../interop/limits.html">
            
                    
                    Limits
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../webapps/">
            
                <a href="../webapps/">
            
                    
                    Web Apps
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../webapps/navigation.html">
            
                <a href="../webapps/navigation.html">
            
                    
                    Navigation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../webapps/url_parsing.html">
            
                <a href="../webapps/url_parsing.html">
            
                    
                    URL Parsing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../webapps/modules.html">
            
                <a href="../webapps/modules.html">
            
                    
                    Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../webapps/structure.html">
            
                <a href="../webapps/structure.html">
            
                    
                    Structure
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../optimization/">
            
                <a href="../optimization/">
            
                    
                    Optimization
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../optimization/lazy.html">
            
                <a href="../optimization/lazy.html">
            
                    
                    Html.lazy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../optimization/keyed.html">
            
                <a href="../optimization/keyed.html">
            
                    
                    Html.keyed
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../optimization/asset_size.html">
            
                <a href="../optimization/asset_size.html">
            
                    
                    Minification
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../next_steps.html">
            
                <a href="../next_steps.html">
            
                    
                    Next Steps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    Appendix
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="types_as_sets.html">
            
                <a href="types_as_sets.html">
            
                    
                    Types as Sets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="types_as_bits.html">
            
                <a href="types_as_bits.html">
            
                    
                    Types as Bits
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.12.3" data-path="function_types.html">
            
                <a href="function_types.html">
            
                    
                    Function Types
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Function Types</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="function-types">Function Types</h1>
<p>As you look through packages like <a href="https://package.elm-lang.org/packages/elm/core/latest/" target="_blank"><code>elm/core</code></a> and <a href="https://package.elm-lang.org/packages/elm/html/latest/" target="_blank"><code>elm/html</code></a>, you will definitely see functions with multiple arrows. For example:</p>
<pre><code class="lang-elm"><span class="hljs-type">String</span>.repeat : <span class="hljs-type">Int</span> -&gt; <span class="hljs-type">String</span> -&gt; <span class="hljs-type">String</span>
<span class="hljs-type">String</span>.join : <span class="hljs-type">String</span> -&gt; <span class="hljs-type">List</span> <span class="hljs-type">String</span> -&gt; <span class="hljs-type">String</span>
</code></pre>
<p>Why so many arrows? What is going on here?!</p>
<h2 id="hidden-parentheses">Hidden Parentheses</h2>
<p>It starts to become clearer when you see all the parentheses. For example, it is also valid to write the type of <code>String.repeat</code> like this:</p>
<pre><code class="lang-elm"><span class="hljs-type">String</span>.repeat : <span class="hljs-type">Int</span> -&gt; (<span class="hljs-type">String</span> -&gt; <span class="hljs-type">String</span>)
</code></pre>
<p>It is a function that takes an <code>Int</code> and then produces <em>another</em> function. Let's see this in action:</p>
<!-- prettier-ignore-start -->
<p></p><div class="elm-repl show-types">
[
    {
        "input": "String.repeat",
        "value": "\u001b[36m&lt;function&gt;\u001b[0m",
        "type_": "Int -&gt; String -&gt; String"
    },
    {
        "input": "String.repeat 4",
        "value": "\u001b[36m&lt;function&gt;\u001b[0m",
        "type_": "String -&gt; String"
    },
    {
        "input": "String.repeat 4 \"ha\"",
        "value": "\u001b[93m\"hahahaha\"\u001b[0m",
        "type_": "String"
    },
    {
        "input": "String.join",
        "value": "\u001b[36m&lt;function&gt;\u001b[0m",
        "type_": "String -&gt; List String -&gt; String"
    },
    {
        "input": "String.join \"|\"",
        "value": "\u001b[36m&lt;function&gt;\u001b[0m",
        "type_": "List String -&gt; String"
    },
    {
        "input": "String.join \"|\" [\"red\",\"yellow\",\"green\"]",
        "value": "\u001b[93m\"red|yellow|green\"\u001b[0m",
        "type_": "String"
    }
]
</div>
<!-- prettier-ignore-end --><p></p>
<p>So conceptually, <strong>every function accepts one argument.</strong> It may return another function that accepts one argument. Etc. At some point it will stop returning functions.</p>
<p>We <em>could</em> always put the parentheses to indicate that this is what is really happening, but it starts to get pretty unwieldy when you have multiple arguments. It is the same logic behind writing <code>4 * 2 + 5 * 3</code> instead of <code>(4 * 2) + (5 * 3)</code>. It means there is a bit extra to learn, but it is so common that it is worth it.</p>
<p>Fine, but what is the point of this feature in the first place? Why not do <code>(Int, String) -&gt; String</code> and give all the arguments at once?</p>
<h2 id="partial-application">Partial Application</h2>
<p>It is quite common to use the <code>List.map</code> function in Elm programs:</p>
<pre><code class="lang-elm"><span class="hljs-type">List</span>.map : (a -&gt; b) -&gt; <span class="hljs-type">List</span> a -&gt; <span class="hljs-type">List</span> b
</code></pre>
<p>It takes two arguments: a function and a list. From there it transforms every element in the list with that function. Here are some examples:</p>
<ul>
<li><code>List.map String.reverse ["part","are"] == ["trap","era"]</code></li>
<li><code>List.map String.length ["part","are"] == [4,3]</code></li>
</ul>
<p>Now remember how <code>String.repeat 4</code> had type <code>String -&gt; String</code> on its own? Well, that means we can say:</p>
<ul>
<li><code>List.map (String.repeat 2) ["ha","choo"] == ["haha","choochoo"]</code></li>
</ul>
<p>The expression <code>(String.repeat 2)</code> is a <code>String -&gt; String</code> function, so we can use it directly. No need to say <code>(\str -&gt; String.repeat 2 str)</code>.</p>
<p>Elm also uses the convention that <strong>the data structure is always the last argument</strong> across the ecosystem. This means that functions are usually designed with this possible usage in mind, making this a pretty common technique.</p>
<p>Now it is important to remember that <strong>this can be overused!</strong> It is convenient and clear sometimes, but I find it is best used in moderation. So I always recommend breaking out top-level helper functions when things get even a <em>little</em> complicated. That way it has a clear name, the arguments are named, and it is easy to test this new helper function. In our example, that means creating:</p>
<pre><code class="lang-elm"><span class="hljs-comment">-- List.map reduplicate ["ha","choo"]</span>


<span class="hljs-title">reduplicate</span> : <span class="hljs-type">String</span> -&gt; <span class="hljs-type">String</span>
<span class="hljs-title">reduplicate</span> string =
    <span class="hljs-type">String</span>.repeat <span class="hljs-number">2</span> string
</code></pre>
<p>This case is really simple, but (1) it is now clearer that I am interested in the linguistic phenomenon known as <a href="https://en.wikipedia.org/wiki/Reduplication" target="_blank">reduplication</a> and (2) it will be quite easy to add new logic to <code>reduplicate</code> as my program evolves. Maybe I want <a href="https://en.wikipedia.org/wiki/Shm-reduplication" target="_blank">shm-reduplication</a> support at some point?</p>
<p>In other words, <strong>if your partial application is getting long, make it a helper function.</strong> And if it is multi-line, it should <em>definitely</em> be turned into a top-level helper! This advice applies to using anonymous functions too.</p>
<blockquote>
<p><strong>Note:</strong> If you are ending up with “too many” functions when you use this advice, I recommend using comments like <code>-- REDUPLICATION</code> to give an overview of the next five or ten functions. Old school! I have shown this with <code>-- UPDATE</code> and <code>-- VIEW</code> comments in previous examples, but it is a generic technique that I use in all my code. And if you are worried about files getting too long with this advice, I recommend watching <a href="https://youtu.be/XpDsk374LDE" target="_blank">The Life of a File</a>!</p>
</blockquote>
<h2 id="pipelines">Pipelines</h2>
<p>Elm also has a <a href="https://package.elm-lang.org/packages/elm/core/latest/Basics#|" target="_blank">pipe operator</a> that relies on partial application. For example, say we have a <code>sanitize</code> function for turning user input into integers:</p>
<pre><code class="lang-elm"><span class="hljs-comment">-- BEFORE</span>


<span class="hljs-title">sanitize</span> : <span class="hljs-type">String</span> -&gt; <span class="hljs-type">Maybe</span> <span class="hljs-type">Int</span>
<span class="hljs-title">sanitize</span> input =
    <span class="hljs-type">String</span>.toInt (<span class="hljs-type">String</span>.trim input)
</code></pre>
<p>We can rewrite it like this:</p>
<pre><code class="lang-elm"><span class="hljs-comment">-- AFTER</span>


<span class="hljs-title">sanitize</span> : <span class="hljs-type">String</span> -&gt; <span class="hljs-type">Maybe</span> <span class="hljs-type">Int</span>
<span class="hljs-title">sanitize</span> input =
    input
        |&gt; <span class="hljs-type">String</span>.trim
        |&gt; <span class="hljs-type">String</span>.toInt
</code></pre>
<p>So in this “pipeline” we pass the input to <code>String.trim</code> and then that gets passed along to <code>String.toInt</code>.</p>
<p>This is neat because it allows a “left-to-right” reading that many people like, but <strong>pipelines can be overused!</strong> When you have three or four steps, the code often gets clearer if you break out a top-level helper function. Now the transformation has a name. The arguments are named. It has a type annotation. It is much more self-documenting that way, and your teammates and your future self will appreciate it! Testing the logic gets easier too.</p>
<blockquote>
<p><strong>Note:</strong> I personally prefer the <code>BEFORE</code>, but perhaps that is just because I learned functional programming in languages without pipes!</p>
</blockquote>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="types_as_bits.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Types as Bits">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Function Types","level":"1.12.3","depth":2,"previous":{"title":"Types as Bits","level":"1.12.2","depth":2,"path":"appendix/types_as_bits.md","ref":"appendix/types_as_bits.md","articles":[]},"dir":"ltr"},"config":{"plugins":["youtube","elm-repl","bulk-redirect","-sharing"],"root":"book","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"bulk-redirect":{"basepath":"/","redirectsFile":"redirects.json"},"youtube":{},"elm-repl":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Evan Czaplicki","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Introducción a Elm","gitbook":"*","description":"Aprende Elm. Construye aplicaciones. Aprende programación funcional."},"file":{"path":"appendix/function_types.md","mtime":"2024-09-20T14:51:57.656Z","type":"markdown"},"gitbook":{"version":"5.1.4","time":"2024-09-20T14:52:25.057Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-elm-repl/repl.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

